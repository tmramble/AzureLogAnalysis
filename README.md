Portfolio Project: Azure Cybersecurity Simulation & Log Analysis
Project Overview
This project simulates a cybersecurity scenario designed to test and analyze the security posture of virtual machines (VMs) in Microsoft Azure. The simulation involves creating and configuring VMs, performing multiple attack simulations (such as failed RDP, SQL, and SSH login attempts), and analyzing the resulting security logs from both an administrative and attacker's perspective. The goal is to learn how to identify and mitigate vulnerabilities, monitor security logs, and understand system behavior under attack.

Table of Contents
Introduction
Project Setup
Admin Mode: Configuration & Setup
Attacker Mode: Simulated Attacks
Log Analysis
Conclusion
Final Notes
Introduction
In this project, you will simulate a real-world cybersecurity scenario where both administrative and attacker roles are explored. You’ll configure Azure virtual machines, carry out different attack simulations, and then analyze the system's response through security logs. By the end of this project, you will have gained practical experience in detecting unauthorized activities, managing security events, and reviewing logs to identify potential threats.

Project Setup
Admin Mode: Configuration & Setup
Create a Windows VM in an Azure region outside the US

VM Name: attack-vm
Resource Group: RG-Cyber-Lab-Attacker
Virtual Network: Lab-VNet-Attacker
Verify VM Accessibility

Log into the VM (attack-vm) to ensure it is functioning as expected.
Retrieve Public IP Address

From the Azure Portal, locate and save the public IP address of the windows-vm for use in the next steps.
Attacker Mode: Simulated Attacks
Simulate Failed RDP (Remote Desktop Protocol) Login Attempts

From attack-vm, attempt to RDP into windows-vm with incorrect credentials (wrong username/password).
Repeat the login attempts with different invalid credentials to simulate a brute force attack.
Simulate Failed MS SQL Authentication Attempts

Install SQL Server Management Studio (SSMS) on attack-vm if necessary.
Attempt to connect to the SQL Server on windows-vm using invalid credentials.
Simulate Failed SSH Login Attempts

From attack-vm, try to SSH into a linux-vm using incorrect credentials.
Log Out of attack-vm

Once all attacks are completed, log out of the attack-vm.
Admin Mode: Post-Attack Analysis
Inspect Security Logs on windows-vm

Use RDP to log back into windows-vm from your local machine and review the security event logs for failed RDP and SQL login attempts.
Pay attention to specific Event IDs, error messages, and source IP addresses involved in these login attempts.
Inspect SQL Server Logs

Access the Application Logs in Event Viewer to identify failed SQL login attempts.
Focus on Event IDs, error messaging, and the origin of each failed attempt.
Review Linux Authentication Logs

SSH into the linux-vm from your local machine and run the following commands to analyze SSH login attempts:
bash
Copy code
cat /var/log/auth.log | grep password
cat /var/log/auth.log | grep Accepted
Investigate entries indicating both failed and successful login attempts, identifying any potential malicious activity.
Log Analysis
After simulating the attack scenarios, it's time to analyze the logs generated by the different failed login attempts:

Windows Security Logs (RDP and SQL Auth Failures):

Event IDs:
RDP failure: 4625 (Failed logon)
SQL Auth failure: 18456 (Failed login attempt)
Source IPs: Track the originating IP addresses involved in the attack.
Messages: Look for patterns such as repeated failed logins or error messages that could indicate brute-force attempts or unauthorized access.
Linux Authentication Logs (SSH Failures):

Investigate log entries for SSH login attempts that failed with incorrect credentials (Failed password) and successful logins (Accepted password).
Look at timestamps, IP addresses, and usernames used in these attempts to detect potential attacks.
Conclusion
Through this project, you have gained practical experience in:

Setting up and managing virtual machines in Microsoft Azure.
Simulating real-world attack scenarios, including failed login attempts via RDP, SQL, and SSH.
Analyzing security logs to detect and investigate suspicious activity.
Understanding how to improve system security and monitor for potential threats effectively.
Final Notes
Turn Off VMs: Ensure all virtual machines are powered down to avoid unnecessary costs.
Security Best Practices: Always use strong, unique passwords for VM access, and configure firewalls to restrict unauthorized access to services like RDP, SSH, and SQL.
Cost Monitoring: Leverage Azure’s cost analysis tools to keep track of expenses and optimize your resource usage.
